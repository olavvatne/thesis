% (C) Anders Kofod-Petersen
\documentclass[a4paper]{book}
\usepackage{listings}
\usepackage{amsmath} %Math over several liens
\usepackage{bbold}   % Double lined math numbers
\usepackage[printonlyused]{acronym}
\usepackage[english]{babel}	
					% Correct English hyphenation
\usepackage{float} %For H, place figure at precise location in code
\usepackage{subcaption}
\usepackage[utf8]{inputenc}						% Allow for non-English letters
\usepackage{graphicx}							% To include graphics
\usepackage{placeins}
%Float barriers
\usepackage{natbib}								% Correct citations
\usepackage{pbox}								% Adjust new line for cells
\usepackage{adjustbox}
%\usepackage{fancyheadings}						% Nice header and footer
\usepackage[linktocpage,colorlinks]{hyperref}			% PDF hyperlink
\usepackage{geometry} 							% Better geometry
%\usepackage[center]					% For cropping documents

% B5 (uncomment to convert to B5 format)
 \geometry{b5paper}

% Author
% Fill in here, and use commands in the text. 
\newcommand{\thesisAuthor}{Olav Kåre Vatne}
\newcommand{\thesisTitle}{Road detection in aerial images}
\newcommand{\thesisType}{master project}
\newcommand{\thesisDate}{spring 2016}

% PDF info
\hypersetup{pdfauthor={\thesisAuthor}}
\hypersetup{pdftitle={\thesisTitle}}
\hypersetup{pdfsubject={\thesisType}}
\hypersetup{linkcolor=black}
\hypersetup{citecolor=black}
\hypersetup{urlcolor=black}

%Fancy headings
%\pagestyle{fancy}
%\pagestyle{fancyplain}
%\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
%\renewcommand{\sectionmark}[1]{\markright{#1}{}}
%\lhead[\fancyplain{}{\thepage}]{\fancyplain{}{\let\uppercase\relax\leftmark}}
%\rhead[\fancyplain{}{\let\uppercase\relax\rightmark}]{\fancyplain{}{\thepage}}
%\chead[\fancyplain{}{}]{\fancyplain{}{}}
%\lfoot[\fancyplain{}{}]{\fancyplain{}{}}
%\cfoot[\fancyplain{}{}]{\fancyplain{}{}}
%\rfoot[\fancyplain{}{}]{\fancyplain{}{}}

% Citation format
\bibliographystyle{apalike}
\bibpunct{[}{]}{;}{a}{,}{,}

\renewcommand{\arraystretch}{1.55} % A bit more spacing between rows
\usepackage{array}
\newcolumntype{+}{>{\global\let\currentrowstyle\relax}}
\newcolumntype{^}{>{\currentrowstyle}}
\newcommand{\rowstyle}[1]{\gdef\currentrowstyle{#1}%
#1\ignorespaces
}

\usepackage{todonotes}
\presetkeys{todonotes}{color=blue!20, bordercolor=white}{}
\begin{document}

%Title page (This is generate automatically from the commands above)
\begin{titlepage} 
\noindent {\large \textbf{\thesisAuthor}}
\vspace{2cm}

\noindent {\Huge \thesisTitle}
\vspace{2cm}

\noindent \thesisType, \thesisDate 
\vspace{2cm}

\noindent Artificial Intelligence Group\\ Department of Computer and Information Science\\ Faculty of Information Technology, Mathematics and Electrical Engineering\\

\vfill
\begin{center}
\includegraphics[width=3cm]{figs/NTNUlogo.pdf}
\end{center}
\end{titlepage}

\thispagestyle{empty}

\cleardoublepage

\frontmatter

\clearpage

\section*{Abstract}
\todo[inline]{Abstract- Sales pitch}
\todo[inline]{field of research, brief motivation for the work, what the research topic is, the research approach(es) applied. contributions}
\todo[inline]{Half a page of text - no lists tables or figures}

\clearpage

\section*{Preface}
\vspace{1cm}

This project is the author's master thesis at the Department of Computer and Information
Science, Norwegian University of Science and Technology. \\

Special thanks to supervisor Professor Keith Downing, at the Department of Computer
and Information Science, Norwegian University of Science and Technology, for his
helpful advice and guidance throughout this project.\todo{Other thanks?} \\



\vfill

\hfill \thesisAuthor

\hfill Trondheim, \today

\clearpage

\section*{List of Abbreviations}
\vspace{1cm}
\begin{acronym}
\acro{CNN}{convolutional neural network}
\acro{CPU}{central processing unit}
\acro{CRF}{conditional random fields}
\acro{GIS}{geographic information system}
\acro{GPU}{graphics processing unit}
\acro{GSD}{ground sampling distance}
\acro{SGD}{stochastic gradient descent}
\acro{MSE}{mean squared error}
\acro{ReLU}{rectified linear unit}
\acro{SLR}{structured literature review}
\acro{SPL}{self-paced learning}
\acro{SPLD}{self-paced learning with diversity}
\acro{SVM}{support vector machines}
\end{acronym}



\tableofcontents

\listoffigures

\listoftables


\mainmatter



\chapter{Introduction}
\label{cha:Introduction}
In this thesis, the state of the art for road extraction is explored. This particular area is a part of the field of Photogrammetry. Additionally, research into topics such as curriculum learning, and how to handle label noise have been conducted.\\
% This research will be useful in the development of a road detection system.

This chapter aims at giving an introduction to the thesis. Section \ref{sec:BackgroundAndMotivation} outlines the background and motivation, and in Section \ref{sec:Goals and Research Questions} goals and research questions are presented. Research methods are described in Section \ref{sec:researchMethod}, Section \ref{sec:IntroContributions} outlines the contributions of this thesis and Section \ref{sec:thesisStructure} presents an overview of the thesis structure.

\input{motivation}

\input{goals_questions}

\input{research_methods}

\input{intro_contributions}

\input{thesis_structure}



\chapter{Background Theory and Motivation}\label{T-B}
\label{cha:TheoryAndBackground}

\input{background_theory}

\input{structured_literature_review}

\input{related_works}

\input{background_discussion}



\chapter{Methods}
\label{cha:architectureAndModel}
\todo[inline]{Draft chapter edition}
\todo[inline]{Fortid og nåtid. Blander de i sammen!}
This chapter will describe the architecture, and the methods needed in order to investigate the research questions presented in Section \ref{sec:Goals and Research Questions}. An overview of the system and it's components can be found in Section \ref{sec:systemOverview}. Section \ref{sec:network} presents the architecture, regularization, optimization and data preprocessing. Furthermore, the methods specifically related to the research questions can be found in Section \ref{sec:curriculum_learning} and Section \ref{sec:bootstrapping_loss}. These sections outline curriculum learning and bootstrapping loss in detail. The datasets used are described in Section \ref{sec:datasets}, and in Section \ref{sec:methods_implementation_details} implementation details can be found.

\input{system_overview}

\input{methods_semantic_segmentation}

\input{methods_curriculum_learning}

\input{methods_bootstrapping_loss}

\input{datasets}

\input{methods_implementation_details}


\chapter{Experiments and Discussion}
\todo[inline]{Draft edition 0.1}

In the following sections, all experiments conducted to resolve the research questions will be presented, and the results will be analysed. Section \ref{sec:experimentalPlan} outlines the experimental design, and Section \ref{sec:experimentalSetup} presents the parameter configuration for each experiment. In Section \ref{sec:experimentalResults} the results are presented, and followed by a discussion in Section \ref{sec:Discussion}.
\label{cha:ResearchAndResults}

\input{experimental_plan}

\input{experimental_setup}

\input{experimental_results}

\input{discussion}


\chapter{Conclusion}
\label{cha:evaluationAndConclusion}
The goal of this thesis was to create a road detection system able to detect roads from aerial images. This was achieved by utilizing a convolutional neural network, and creating a dataset from available map data. This thesis has given a brief introduction to road extraction systems, and the related problem of label noise, often found in aerial image datasets. This chapter concludes this work, by first giving a brief overview of the thesis in Section \ref{sec:summaryOverview}. Then in Section \ref{sec:SummaryDiscussion}, the research goal and questions are tackled, with the results from Chapter \ref{cha:ResearchAndResults} as basis. Contributions made by this thesis are discussed in Section \ref{sec:Contributions}, and suggestions for future work are presented in Section \ref{sec:futureWork}.\\

\section{Overview}
\label{sec:summaryOverview}
In Chapter \ref{cha:TheoryAndBackground}, the thesis presented background theory, and related works. the components of a \ac{CNN}s was briefly explained, as well as curriculum learning and approaches for dealing with nosy labels. The related works, presented studies involving road detection systems, semantic segmentation, approaches for dealing with noisy labels, and curriculum learning. The issue of label noise in aerial imagery, has been influential in the choice of a curriculum strategy, and the studies have inspired the testing methodology used in Chapter \ref{cha:ResearchAndResults}.\\

Chapter \ref{cha:architectureAndModel}, presented a detailed description about the selected methods and the aerial image datasets. This included, a presentation of the default hyperparameters, the architecture, the optimization and regularization methods used by the \ac{CNN}. The chapter also described how the Norwegian Roads Dataset was constructed from aerial imagery and existing map data, and why it is compelling to test the proposed methods with this type of dataset.\\

Experimental results from the proposed methods and the road detection system was presented in Chapter \ref{cha:ResearchAndResults}. First, the design of the experiments were described, and the basis for conducting them. Then, the specific details and parameters for each experiment were listed. Finally, the results were presented, and then discussed. The results showed that examples presented early in optimization, influence the final outcome of training, and that curriculum learning consistently performed better than the baseline. Furthermore, the chosen curriculum strategy worked well in practice. The bootstrapping experiments revealed that they do provide some robustness against omission and registration errors, but that the performance gain was minor. The qualitative analysis of the best performing road detection system, showed that a lot of the supposedly incorrect predictions, is actually a result of incorrect label maps.\\

\input{summaryDiscussion}

\input{contributions}

\input{future_work}

\backmatter


\appendix
\chapter*{Appendices}
\addcontentsline{toc}{chapter}{Appendices}
\renewcommand{\thesection}{\Alph{section}}
\input{appendix}

\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{./bibtex/bibliography}

%\chapter{Appendices}
%\label{cha:appendices}
%\listoftodos
\end{document}
